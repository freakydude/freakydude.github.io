<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult | freakyDude's Blog</title><meta name=keywords content="3D printer,klipper,bigtreetech,m8p,ebb42,ebb36,manta,can,katapult"><meta name=description content="A quick guide on how to flash the BTT Manta M8P CAN and EBB42 board with Klipper firmware using Katapult."><meta name=author content="freakyDude"><link rel=canonical href=https://blog.freakydu.de/posts/2025-11-05-flashing_btt_manta_m8p_can/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.freakydu.de/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.freakydu.de/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.freakydu.de/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.freakydu.de/apple-touch-icon.png><link rel=mask-icon href=https://blog.freakydu.de/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.freakydu.de/posts/2025-11-05-flashing_btt_manta_m8p_can/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://blog.freakydu.de/posts/2025-11-05-flashing_btt_manta_m8p_can/"><meta property="og:site_name" content="freakyDude's Blog"><meta property="og:title" content="Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult"><meta property="og:description" content="A quick guide on how to flash the BTT Manta M8P CAN and EBB42 board with Klipper firmware using Katapult."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-11-06T18:00:00+01:00"><meta property="article:modified_time" content="2025-11-06T18:00:00+01:00"><meta property="article:tag" content="3D Printer"><meta property="article:tag" content="Klipper"><meta property="article:tag" content="Bigtreetech"><meta property="article:tag" content="M8p"><meta property="article:tag" content="Ebb42"><meta property="article:tag" content="Ebb36"><meta name=twitter:card content="summary"><meta name=twitter:title content="Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult"><meta name=twitter:description content="A quick guide on how to flash the BTT Manta M8P CAN and EBB42 board with Klipper firmware using Katapult."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.freakydu.de/posts/"},{"@type":"ListItem","position":2,"name":"Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult","item":"https://blog.freakydu.de/posts/2025-11-05-flashing_btt_manta_m8p_can/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult","name":"Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult","description":"A quick guide on how to flash the BTT Manta M8P CAN and EBB42 board with Klipper firmware using Katapult.","keywords":["3D printer","klipper","bigtreetech","m8p","ebb42","ebb36","manta","can","katapult"],"articleBody":"About For my own purposes, this is a quick and dirty guide on how to flash the BTT Manta M8P CAN and the EBB42 board with Klipper firmware using Katapult. This process should work for other BTT Manta M8P and EBB versions too, but you have to adjust the configuration accordingly.\nUSB or CAN Bus The BTT Manta M8P CAN board can be flashed and used with Klipper firmware via two different methods: USB connection or CAN Bus. If you are using toolhead boards like the EBB36 or EBB42 that support CAN Bus, it is mandatory to use the CAN Bus method for communication between the mainboard and toolhead boards. If you are using toolhead boards that support USB connection (like the BTT SB2209 USB or the EBB36/42 v2.0), use USB connection instead.\nIn general, CAN Bus is the preferred method for communication between multiple boards in a 3D printer setup, as it provides better reliability and performance compared to USB connections.\nPrerequisites A working Klipper installation on a host system (Raspberry Pi, etc.). Follow the Klipper Installation Guide if you haven’t done this yet.\nBasic knowledge of using the terminal/command line.\nInstalled dfu-util on your host system. You can install it via your package manager. For example, on Debian/Ubuntu-based systems, you can run:\nsudo apt-get install dfu-util python3-serial A USB cable to connect the BTT Manta M8P board to your host system for flashing Katapult and Klipper firmware.\nA CAN Bus connection between the BTT Manta M8P board and the BTT EBB42 board for communication.\nConfigured CAN Bus on Host System There a many ways to setup CAN Bus on your host system. I recommend to use systemd-networkd for this. Here is a quick example:\nAdd the following file /etc/systemd/network/80-can.link:\n[Match] Type=can [Link] TransmitQueueLength=128 and the following file /etc/systemd/network/80-can.network:\n[Match] Name=can0 [CAN] BitRate=1000000 Run the following commands to load this configuration:\nsudo systemctl daemon-reload sudo systemctl restart systemd-networkd My Artillery Sidewinder X2 Setup I replaced the original Artillery Mainboard with a BTT Manta M8P v1.1 board running in CAN Mode. I replaced the original Artillery Toolhead board with a BTT EBB42 v1.2 board running in CAN Mode. Flashing the BTT Manta M8P v1.1 in CAN Mode with Katapult Flash katapult to the BTT Manta M8P v1.1 This step is only necessary if you have a brand new BTT Manta M8P board without Katapult installed. If you already have Katapult installed, you can skip this step.\nDownload Katapult.\ncd ~ git clone https://github.com/Arksine/katapult cd katapult Configure Katapult for the BTT Manta M8P v1.1 CAN:\nmake menuconfig Be aware that I have also enabled the PC3 GPIO Pin. If you have connected a device like the BTT Relay V1.2 to the PS-ON GPIO Pin the power supply is switched via this pin.\nSave and exit with Quit and Yes.\nBuild the firmware-bootloader package:\nmake -j Flash Katapult\ndfu-util -R -a 0 -s 0x08000000:mass-erase:force -D ~/katapult/out/katapult.bin Reset the board (or power off/on). Katapult should now be installed, the status LED will blink.\nFlash Klipper to the BTT Manta M8P v1.1 in CAN Mode Configure Klipper Firmware for the BTT Manta M8P v1.1 CAN:\ncd ~ cd klipper make menuconfig Be aware that I have also enabled the PC3 GPIO Pin. If you have connected a device like the BTT Relay V1.2 to the PS-ON GPIO Pin the power supply is switched via this pin.\nSave and exit with Quit and Yes.\nBuild the Klipper firmware:\nmake -j Stop Klipper service first:\nsudo service klipper stop Flash Klipper\nDepending if Klipper is already running (update workflow) on the board, you need to switch into bootloader mode first. Run the following command to do so:\n~/klippy-env/bin/python ~/katapult/scripts/flashtool.py -i can0 -u -r Replace with the actual CANBUS-UUID of your board. (Configured in printer.cfg under [mcu] section as canbus_uuid)\nNow the should get something similar to this:\nCanbus Bridge detected at /sys/bus/usb/devices/1-1.4 Connecting to CAN UUID 4a0cb5640a86 on interface can0 Sending bootloader jump command... Waiting for USB Reconnect...done Detected new USB Device: 1d50:6177 katapult stm32g0b1xx Katapult detected at serial port /dev/ttyACM0 Bootloader Request Complete Your board is now in bootloader mode. You can connect to it via the serial port /dev/ttyACM0.\nFinally, flash the Klipper firmware:\ncd ~/klipper make flash FLASH_DEVICE=/dev/ttyACM0 This should quit with an CAN Flash Success message.\nRestart Klipper to apply the changes.\nsudo service klipper restart Flashing the BTT EBB42 v1.2 in CAN Mode with Katapult Flash katapult to the BTT EBB42 v1.2 CAN This step is only necessary if you have a brand new BTT EBB42 board without Katapult installed. If you already have Katapult installed, you can skip this step.\nConnect your EBB42 via USB and Flash Katapult.\nPower off your printer Unplug the CAN Bus cable from the EBB42 board to avoid any power issues. Temporarily bridge the 5V Jumper on the EBB42 board to power it via USB. Put the board into DFU mode by holding the BOOT button while plugging in the USB cable. Or as an alternative, press and hold the BOOT button, press reset, release reset, then release BOOT. The board should now be in DFU mode and ready to be flashed. If needed, download Katapult.\ncd ~ git clone https://github.com/Arksine/katapult cd katapult Configure Katapult for the BTT Manta M8P v1.1 CAN:\ncd ~/katapult make menuconfig Save and exit with Quit and Yes.\nBuild the firmware-bootloader package:\nmake -j Flash Katapult:\nsudo dfu-util -R -a 0 -s 0x08000000:mass-erase:force -D ~/katapult/out/katapult.bin This should finish with a File downloaded successfully message.\nRemove 5V Power Jumper, remove your usb cable and power off your printer. Add your CAN Bus cable to the EBB42 board, then power on. Katapult should now be installed.\nFlash Klipper to the BTT EBB42 v1.2 CAN Configure Klipper Firmware for the BTT EBB42 v1.2 CAN CAN:\ncd ~ cd klipper make menuconfig Save and exit with Quit and Yes.\nBuild the Klipper firmware:\nmake -j Stop Klipper service first:\nsudo service klipper stop Query the CAN Bus UUID of the EBB42 board:\n~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 You should get something like this: Found canbus_uuid=c239709a91c7, Application: CanBoot\nMake a note of the CAN UUID, it should be the uuid of the your EBB42 board. Note it for the next step.\nFlash Klipper to EBB42\n~/klippy-env/bin/python3 ~/katapult/scripts/flash_can.py -i can0 -f ~/klipper/out/klipper.bin -u Replace with the actual CANBUS-UUID of your board. (Noted from the last step or configured in printer.cfg under [mcu ebb42] section as canbus_uuid)\nThis should result in something like this:\nVerifying canbus connection Flashing '/home/freaky/klipper/out/klipper.bin'... [##################################################] Write complete: 21 pages Verifying (block count = 649)... [##################################################] Verification Complete: SHA = 0CD35886C377A91B5AB0E0AD44684CB24DEBE05E Programming Complete If you get any errors, and you double checked your CANBUS UUID, try to reset the EBB42 board by power cycling your printer and try again. If this not work, begin again from flashing Katapult to the EBB42 board.\nRestart Klipper to apply the changes.\nsudo service klipper restart My Voron 2.4 Setup Mainboard: BTT Manta M8P v2.0 (USB Mode) Toolhead board: BTT EBB SB2209 v1.10 USB Flashing the BTT EBB SB2209 USB Configure Klipper Firmware for the BTT EBB SB2209 USB:\ncd ~ cd klipper make menuconfig Save and exit with Quit and Yes.\nBuild the Klipper firmware:\nmake -j Stop Klipper service first:\nsudo service klipper stop Flash Klipper\ncd ~/klipper make flash FLASH_DEVICE=2e8a:0003 This should result in something like this:\nFlashing out/klipper.uf2 to 2e8a:0003 sudo lib/rp2040_flash/rp2040_flash out/klipper.uf2 Loaded UF2 image with 166 pages Found rp2040 device on USB bus 1 address 9 Flashing... Resetting interface Locking Exiting XIP mode Erasing Flashing Rebooting device Restart Klipper to apply the changes.\nsudo service klipper restart Flashing the BTT Manta M8P v2.0 in USB Mode Configure Klipper Firmware for the BTT Manta M8P v2.0 USB:\ncd ~ cd klipper make menuconfig Be aware that I have also enabled the PD14 GPIO Pin. If you have connected a device like the BTT Relay V1.2 to the PS-ON GPIO Pin the power supply is switched via this pin.\nSave and exit with Quit and Yes.\nBuild the Klipper firmware:\nmake -j Stop Klipper service first:\nsudo service klipper stop Flash Klipper\nIf you doing that initially, you need to put the board into bootloader mode first. To do so, hold the BOOT button while plugging in the USB cable. Or as an alternative, press and hold the BOOT button, press reset, release reset, then release BOOT.\nAfter that, you can flash the firmware:\nsudo dfu-util -R -a 0 -s 0x08000000:mass-erase:force -D ~/klipper/out/klipper.bin If this results in an error you probably have Klipper already running on the board.\nIn this case, you can use the following command to flash the firmware. In your case the xxxxxxxxxxx part of the path may differ, so adjust it accordingly.\nDetermine the correct serial path by listing the devices:\nls /dev/serial/by-id/usb-Klipper_stm32h723xx_* cd ~/klipper make flash FLASH_DEVICE=/dev/serial/by-id/usb-Klipper_stm32h723xx_xxxxxxxxxxx-if00 This results in something like this:\nDownloading element to address = 0x08000000, size = 41508 Erase [=========================] 100% 41508 bytes Erase done. Download [=========================] 100% 41508 bytes Download done. File downloaded successfully ... Ignore the errors below, you should be good to go.\nRestart Klipper to apply the changes.\nsudo service klipper restart Further Links Klipper Documentation Klipper Git Katapult Git Dr. Klipper Wiki BTT Manta (CAN-Bridge) Dr. Klipper Wiki BTT EBB42 (CAN) Support me Please leave a comment if there is something wrong or missing, or if you have any questions. Have fun!\nIf you enjoyed this article and would like to support my work, feel free to buy me a coffee! Your support helps me continue creating content. Thank you! ","wordCount":"1593","inLanguage":"en","datePublished":"2025-11-06T18:00:00+01:00","dateModified":"2025-11-06T18:00:00+01:00","author":{"@type":"Person","name":"freakyDude"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.freakydu.de/posts/2025-11-05-flashing_btt_manta_m8p_can/"},"publisher":{"@type":"Person","name":"freakyDude's Blog","logo":{"@type":"ImageObject","url":"https://blog.freakydu.de/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://blog.freakydu.de/ accesskey=h title="freakyDude (Alt + H)"><img src=https://blog.freakydu.de/apple-touch-icon.png alt aria-label=logo height=36>freakyDude</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.freakydu.de/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://blog.freakydu.de/categories/ title=categories><span>categories</span></a></li><li><a href=https://blog.freakydu.de/tags/ title=tags><span>tags</span></a></li><li><a href=https://blog.freakydu.de/archive/ title=archive><span>archive</span></a></li><li><a href=https://blog.freakydu.de/about/ title=about><span>about</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult</h1><div class=post-description>A quick guide on how to flash the BTT Manta M8P CAN and EBB42 board with Klipper firmware using Katapult.</div><div class=post-meta><span title='2025-11-06 18:00:00 +0100 +0100'>November 6, 2025</span>&nbsp;·&nbsp;<span>8 min</span>&nbsp;·&nbsp;<span>freakyDude</span>&nbsp;|&nbsp;<span>
<a href=https://github.com/freakydude/freakydude.github.io/tree/master/content/posts/2025-11-05-Flashing_BTT_Manta_M8P_CAN/index.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#about aria-label=About>About</a></li><li><a href=#usb-or-can-bus aria-label="USB or CAN Bus">USB or CAN Bus</a></li><li><a href=#prerequisites aria-label=Prerequisites>Prerequisites</a><ul><li><a href=#configured-can-bus-on-host-system aria-label="Configured CAN Bus on Host System">Configured CAN Bus on Host System</a></li></ul></li><li><a href=#my-artillery-sidewinder-x2-setup aria-label="My Artillery Sidewinder X2 Setup">My Artillery Sidewinder X2 Setup</a><ul><li><a href=#flashing-the-btt-manta-m8p-v11-in-can-mode-with-katapult aria-label="Flashing the BTT Manta M8P v1.1 in CAN Mode with Katapult">Flashing the BTT Manta M8P v1.1 in CAN Mode with Katapult</a><ul><li><a href=#flash-katapult-to-the-btt-manta-m8p-v11 aria-label="Flash katapult to the BTT Manta M8P v1.1">Flash katapult to the BTT Manta M8P v1.1</a></li><li><a href=#flash-klipper-to-the-btt-manta-m8p-v11-in-can-mode aria-label="Flash Klipper to the BTT Manta M8P v1.1 in CAN Mode">Flash Klipper to the BTT Manta M8P v1.1 in CAN Mode</a></li></ul></li><li><a href=#flashing-the-btt-ebb42-v12-in-can-mode-with-katapult aria-label="Flashing the BTT EBB42 v1.2 in CAN Mode with Katapult">Flashing the BTT EBB42 v1.2 in CAN Mode with Katapult</a><ul><li><a href=#flash-katapult-to-the-btt-ebb42-v12-can aria-label="Flash katapult to the BTT EBB42 v1.2 CAN">Flash katapult to the BTT EBB42 v1.2 CAN</a></li><li><a href=#flash-klipper-to-the-btt-ebb42-v12-can aria-label="Flash Klipper to the BTT EBB42 v1.2 CAN">Flash Klipper to the BTT EBB42 v1.2 CAN</a></li></ul></li></ul></li><li><a href=#my-voron-24-setup aria-label="My Voron 2.4 Setup">My Voron 2.4 Setup</a><ul><li><a href=#flashing-the-btt-ebb-sb2209-usb aria-label="Flashing the BTT EBB SB2209 USB">Flashing the BTT EBB SB2209 USB</a></li><li><a href=#flashing-the-btt-manta-m8p-v20-in-usb-mode aria-label="Flashing the BTT Manta M8P v2.0 in USB Mode">Flashing the BTT Manta M8P v2.0 in USB Mode</a></li></ul></li><li><a href=#further-links aria-label="Further Links">Further Links</a></li><li><a href=#support-me aria-label="Support me">Support me</a></li></ul></div></details></div><div class=post-content><h2 id=about>About<a hidden class=anchor aria-hidden=true href=#about>#</a></h2><p>For my own purposes, this is a quick and dirty guide on how to flash the BTT Manta M8P CAN and the EBB42 board with Klipper firmware using Katapult. This process should work for other BTT Manta M8P and EBB versions too, but you have to adjust the configuration accordingly.</p><h2 id=usb-or-can-bus>USB or CAN Bus<a hidden class=anchor aria-hidden=true href=#usb-or-can-bus>#</a></h2><p>The BTT Manta M8P CAN board can be flashed and used with Klipper firmware via two different methods: USB connection or CAN Bus. If you are using toolhead boards like the EBB36 or EBB42 that support CAN Bus, it is mandatory to use the CAN Bus method for communication between the mainboard and toolhead boards. If you are using toolhead boards that support USB connection (like the BTT SB2209 USB or the EBB36/42 v2.0), use USB connection instead.</p><p>In general, CAN Bus is the preferred method for communication between multiple boards in a 3D printer setup, as it provides better reliability and performance compared to USB connections.</p><h2 id=prerequisites>Prerequisites<a hidden class=anchor aria-hidden=true href=#prerequisites>#</a></h2><ul><li><p>A working Klipper installation on a host system (Raspberry Pi, etc.). Follow the <a href=https://www.klipper3d.org/Installation.html>Klipper Installation Guide</a> if you haven&rsquo;t done this yet.</p></li><li><p>Basic knowledge of using the terminal/command line.</p></li><li><p>Installed <code>dfu-util</code> on your host system. You can install it via your package manager. For example, on Debian/Ubuntu-based systems, you can run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo apt-get install dfu-util python3-serial
</span></span></code></pre></div></li><li><p>A USB cable to connect the BTT Manta M8P board to your host system for flashing Katapult and Klipper firmware.</p></li><li><p>A CAN Bus connection between the BTT Manta M8P board and the BTT EBB42 board for communication.</p></li></ul><h3 id=configured-can-bus-on-host-system>Configured CAN Bus on Host System<a hidden class=anchor aria-hidden=true href=#configured-can-bus-on-host-system>#</a></h3><p>There a many ways to setup CAN Bus on your host system. I recommend to use systemd-networkd for this. Here is a quick example:</p><p>Add the following file <code>/etc/systemd/network/80-can.link</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[Match]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Type</span><span style=color:#f92672>=</span><span style=color:#e6db74>can</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[Link]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>TransmitQueueLength</span><span style=color:#f92672>=</span><span style=color:#e6db74>128</span>
</span></span></code></pre></div><p>and the following file <code>/etc/systemd/network/80-can.network</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[Match]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Name</span><span style=color:#f92672>=</span><span style=color:#e6db74>can0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[CAN]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>BitRate</span><span style=color:#f92672>=</span><span style=color:#e6db74>1000000</span>
</span></span></code></pre></div><p>Run the following commands to load this configuration:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo systemctl daemon-reload
</span></span><span style=display:flex><span>sudo systemctl restart systemd-networkd
</span></span></code></pre></div><h2 id=my-artillery-sidewinder-x2-setup>My Artillery Sidewinder X2 Setup<a hidden class=anchor aria-hidden=true href=#my-artillery-sidewinder-x2-setup>#</a></h2><ul><li>I replaced the original Artillery Mainboard with a BTT Manta M8P v1.1 board running in CAN Mode.</li><li>I replaced the original Artillery Toolhead board with a BTT EBB42 v1.2 board running in CAN Mode.</li></ul><h3 id=flashing-the-btt-manta-m8p-v11-in-can-mode-with-katapult>Flashing the BTT Manta M8P v1.1 in CAN Mode with Katapult<a hidden class=anchor aria-hidden=true href=#flashing-the-btt-manta-m8p-v11-in-can-mode-with-katapult>#</a></h3><h4 id=flash-katapult-to-the-btt-manta-m8p-v11>Flash katapult to the BTT Manta M8P v1.1<a hidden class=anchor aria-hidden=true href=#flash-katapult-to-the-btt-manta-m8p-v11>#</a></h4><p>This step is only necessary if you have a brand new BTT Manta M8P board without Katapult installed. If you already have Katapult installed, you can skip this step.</p><ol><li><p>Download <a href=https://github.com/Arksine/katapult>Katapult</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd ~
</span></span><span style=display:flex><span>git clone https://github.com/Arksine/katapult
</span></span><span style=display:flex><span>cd katapult   
</span></span></code></pre></div></li><li><p>Configure Katapult for the BTT Manta M8P v1.1 CAN:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>make menuconfig
</span></span></code></pre></div><p><img alt="Setup Katapult for Manta M8P v1.1" loading=lazy src=/posts/2025-11-05-flashing_btt_manta_m8p_can/images/config-katapult-m8p-v11.png title="Setup Katapult for Manta M8P v1.1"></p><p>Be aware that I have also enabled the PC3 GPIO Pin. If you have connected a device like the BTT Relay V1.2 to the PS-ON GPIO Pin the power supply is switched via this pin.</p><p>Save and exit with <code>Quit</code> and <code>Yes</code>.</p></li><li><p>Build the firmware-bootloader package:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>make -j
</span></span></code></pre></div></li><li><p>Flash Katapult</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>dfu-util -R -a <span style=color:#ae81ff>0</span> -s 0x08000000:mass-erase:force -D ~/katapult/out/katapult.bin
</span></span></code></pre></div></li><li><p>Reset the board (or power off/on). Katapult should now be installed, the status LED will blink.</p></li></ol><h4 id=flash-klipper-to-the-btt-manta-m8p-v11-in-can-mode>Flash Klipper to the BTT Manta M8P v1.1 in CAN Mode<a hidden class=anchor aria-hidden=true href=#flash-klipper-to-the-btt-manta-m8p-v11-in-can-mode>#</a></h4><ol><li><p>Configure Klipper Firmware for the BTT Manta M8P v1.1 CAN:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd ~
</span></span><span style=display:flex><span>cd klipper
</span></span><span style=display:flex><span>make menuconfig
</span></span></code></pre></div><p><img alt="Setup Klipper for Manta M8P v1.1 CAN" loading=lazy src=/posts/2025-11-05-flashing_btt_manta_m8p_can/images/config-can-m8p-v11.png title="Setup Klipper for Manta M8P v1.1 CAN"></p><p>Be aware that I have also enabled the PC3 GPIO Pin. If you have connected a device like the BTT Relay V1.2 to the PS-ON GPIO Pin the power supply is switched via this pin.</p><p>Save and exit with <code>Quit</code> and <code>Yes</code>.</p></li><li><p>Build the Klipper firmware:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>make -j
</span></span></code></pre></div></li><li><p>Stop Klipper service first:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo service klipper stop
</span></span></code></pre></div></li><li><p>Flash Klipper</p><ol><li><p>Depending if Klipper is already running (update workflow) on the board, you need to switch into bootloader mode first. Run the following command to do so:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>~/klippy-env/bin/python ~/katapult/scripts/flashtool.py -i can0 -u &lt;CANBUS-UUID&gt; -r
</span></span></code></pre></div><p>Replace <code>&lt;CANBUS-UUID></code> with the actual CANBUS-UUID of your board. (Configured in <code>printer.cfg</code> under <code>[mcu]</code> section as <code>canbus_uuid</code>)</p></li><li><p>Now the should get something similar to this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>Canbus Bridge detected at /sys/bus/usb/devices/1-1.4
</span></span><span style=display:flex><span>Connecting to CAN UUID 4a0cb5640a86 on interface can0
</span></span><span style=display:flex><span>Sending bootloader jump command...
</span></span><span style=display:flex><span>Waiting <span style=color:#66d9ef>for</span> USB Reconnect...done
</span></span><span style=display:flex><span>Detected new USB Device: 1d50:6177 katapult stm32g0b1xx
</span></span><span style=display:flex><span>Katapult detected at serial port /dev/ttyACM0
</span></span><span style=display:flex><span>Bootloader Request Complete
</span></span></code></pre></div><p>Your board is now in bootloader mode. You can connect to it via the serial port <code>/dev/ttyACM0</code>.</p></li><li><p>Finally, flash the Klipper firmware:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd ~/klipper
</span></span><span style=display:flex><span>make flash FLASH_DEVICE<span style=color:#f92672>=</span>/dev/ttyACM0
</span></span></code></pre></div><p>This should quit with an <code>CAN Flash Success</code> message.</p></li></ol></li><li><p>Restart Klipper to apply the changes.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo service klipper restart
</span></span></code></pre></div></li></ol><h3 id=flashing-the-btt-ebb42-v12-in-can-mode-with-katapult>Flashing the BTT EBB42 v1.2 in CAN Mode with Katapult<a hidden class=anchor aria-hidden=true href=#flashing-the-btt-ebb42-v12-in-can-mode-with-katapult>#</a></h3><h4 id=flash-katapult-to-the-btt-ebb42-v12-can>Flash katapult to the BTT EBB42 v1.2 CAN<a hidden class=anchor aria-hidden=true href=#flash-katapult-to-the-btt-ebb42-v12-can>#</a></h4><p>This step is only necessary if you have a brand new BTT EBB42 board without Katapult installed. If you already have Katapult installed, you can skip this step.</p><ol><li><p>Connect your EBB42 via USB and Flash Katapult.</p><ol><li>Power off your printer</li><li>Unplug the CAN Bus cable from the EBB42 board to avoid any power issues.</li><li>Temporarily bridge the 5V Jumper on the EBB42 board to power it via USB.</li><li>Put the board into DFU mode by holding the BOOT button while plugging in the USB cable. Or as an alternative, press and hold the BOOT button, press reset, release reset, then release BOOT.</li><li>The board should now be in DFU mode and ready to be flashed.</li></ol></li><li><p>If needed, download <a href=https://github.com/Arksine/katapult>Katapult</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd ~
</span></span><span style=display:flex><span>git clone https://github.com/Arksine/katapult
</span></span><span style=display:flex><span>cd katapult   
</span></span></code></pre></div></li><li><p>Configure Katapult for the BTT Manta M8P v1.1 CAN:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd ~/katapult
</span></span><span style=display:flex><span>make menuconfig
</span></span></code></pre></div><p><img alt="Setup Katapult for EBB42 v1.2" loading=lazy src=/posts/2025-11-05-flashing_btt_manta_m8p_can/images/config-katapult-ebb42-v12.png title="Setup Katapult for EBB42 v1.2"></p><p>Save and exit with <code>Quit</code> and <code>Yes</code>.</p></li><li><p>Build the firmware-bootloader package:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>make -j
</span></span></code></pre></div></li><li><p>Flash Katapult:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo dfu-util -R -a <span style=color:#ae81ff>0</span> -s 0x08000000:mass-erase:force -D ~/katapult/out/katapult.bin
</span></span></code></pre></div><p>This should finish with a <code>File downloaded successfully</code> message.</p></li><li><p>Remove 5V Power Jumper, remove your usb cable and power off your printer.
Add your CAN Bus cable to the EBB42 board, then power on. Katapult should now be installed.</p></li></ol><h4 id=flash-klipper-to-the-btt-ebb42-v12-can>Flash Klipper to the BTT EBB42 v1.2 CAN<a hidden class=anchor aria-hidden=true href=#flash-klipper-to-the-btt-ebb42-v12-can>#</a></h4><ol><li><p>Configure Klipper Firmware for the BTT EBB42 v1.2 CAN CAN:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd ~
</span></span><span style=display:flex><span>cd klipper
</span></span><span style=display:flex><span>make menuconfig
</span></span></code></pre></div><p><img alt="Setup Klipper for EBB42 v1.2 CAN" loading=lazy src=/posts/2025-11-05-flashing_btt_manta_m8p_can/images/config-can-ebb42-v12.png title="Setup Klipper for EBB42 v1.2 CAN"></p><p>Save and exit with <code>Quit</code> and <code>Yes</code>.</p></li><li><p>Build the Klipper firmware:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>make -j
</span></span></code></pre></div></li><li><p>Stop Klipper service first:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo service klipper stop
</span></span></code></pre></div></li><li><p>Query the CAN Bus UUID of the EBB42 board:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0
</span></span></code></pre></div><p>You should get something like this: <code>Found canbus_uuid=c239709a91c7, Application: CanBoot</code></p><p>Make a note of the <code>CAN UUID</code>, it should be the uuid of the your EBB42 board. Note it for the next step.</p></li><li><p>Flash Klipper to EBB42</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>~/klippy-env/bin/python3 ~/katapult/scripts/flash_can.py -i can0 &lt;CANBUS_UUID&gt; -f ~/klipper/out/klipper.bin -u
</span></span></code></pre></div><p>Replace <code>&lt;CANBUS-UUID></code> with the actual CANBUS-UUID of your board. (Noted from the last step or configured in <code>printer.cfg</code> under <code>[mcu ebb42]</code> section as <code>canbus_uuid</code>)</p><p>This should result in something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>Verifying canbus connection
</span></span><span style=display:flex><span>Flashing <span style=color:#e6db74>&#39;/home/freaky/klipper/out/klipper.bin&#39;</span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span><span style=color:#75715e>##################################################]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Write complete: <span style=color:#ae81ff>21</span> pages
</span></span><span style=display:flex><span>Verifying <span style=color:#f92672>(</span>block count <span style=color:#f92672>=</span> 649<span style=color:#f92672>)</span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span><span style=color:#75715e>##################################################]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Verification Complete: SHA <span style=color:#f92672>=</span> 0CD35886C377A91B5AB0E0AD44684CB24DEBE05E
</span></span><span style=display:flex><span>Programming Complete
</span></span></code></pre></div><p>If you get any errors, and you double checked your CANBUS UUID, try to reset the EBB42 board by power cycling your printer and try again. If this not work, begin again from flashing Katapult to the EBB42 board.</p></li><li><p>Restart Klipper to apply the changes.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo service klipper restart
</span></span></code></pre></div></li></ol><h2 id=my-voron-24-setup>My Voron 2.4 Setup<a hidden class=anchor aria-hidden=true href=#my-voron-24-setup>#</a></h2><ul><li>Mainboard: BTT Manta M8P v2.0 (USB Mode)</li><li>Toolhead board: BTT EBB SB2209 v1.10 USB</li></ul><h3 id=flashing-the-btt-ebb-sb2209-usb>Flashing the BTT EBB SB2209 USB<a hidden class=anchor aria-hidden=true href=#flashing-the-btt-ebb-sb2209-usb>#</a></h3><ol><li><p>Configure Klipper Firmware for the BTT EBB SB2209 USB:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd ~
</span></span><span style=display:flex><span>cd klipper
</span></span><span style=display:flex><span>make menuconfig
</span></span></code></pre></div><p><img alt="Setup Klipper for EBB SB2209 USB" loading=lazy src=/posts/2025-11-05-flashing_btt_manta_m8p_can/images/config-usb-ebb-sb2209-usb-v10.png title="Setup Klipper for EBB SB2209 USB"></p><p>Save and exit with <code>Quit</code> and <code>Yes</code>.</p></li><li><p>Build the Klipper firmware:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>make -j
</span></span></code></pre></div></li><li><p>Stop Klipper service first:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo service klipper stop
</span></span></code></pre></div></li><li><p>Flash Klipper</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd ~/klipper
</span></span><span style=display:flex><span>make flash FLASH_DEVICE<span style=color:#f92672>=</span>2e8a:0003
</span></span></code></pre></div><p>This should result in something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>Flashing out/klipper.uf2 to 2e8a:0003
</span></span><span style=display:flex><span>sudo lib/rp2040_flash/rp2040_flash out/klipper.uf2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Loaded UF2 image with <span style=color:#ae81ff>166</span> pages
</span></span><span style=display:flex><span>Found rp2040 device on USB bus <span style=color:#ae81ff>1</span> address <span style=color:#ae81ff>9</span>
</span></span><span style=display:flex><span>Flashing...
</span></span><span style=display:flex><span>Resetting interface
</span></span><span style=display:flex><span>Locking
</span></span><span style=display:flex><span>Exiting XIP mode
</span></span><span style=display:flex><span>Erasing
</span></span><span style=display:flex><span>Flashing
</span></span><span style=display:flex><span>Rebooting device
</span></span></code></pre></div></li><li><p>Restart Klipper to apply the changes.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo service klipper restart
</span></span></code></pre></div></li></ol><h3 id=flashing-the-btt-manta-m8p-v20-in-usb-mode>Flashing the BTT Manta M8P v2.0 in USB Mode<a hidden class=anchor aria-hidden=true href=#flashing-the-btt-manta-m8p-v20-in-usb-mode>#</a></h3><ol><li><p>Configure Klipper Firmware for the BTT Manta M8P v2.0 USB:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd ~
</span></span><span style=display:flex><span>cd klipper
</span></span><span style=display:flex><span>make menuconfig
</span></span></code></pre></div><p><img alt="Setup Klipper for BTT Manta M8P v2.0 USB" loading=lazy src=/posts/2025-11-05-flashing_btt_manta_m8p_can/images/config-usb-m8p-v20.png title="Setup Klipper for BTT Manta M8P v2.0 USB"></p><p>Be aware that I have also enabled the PD14 GPIO Pin. If you have connected a device like the BTT Relay V1.2 to the PS-ON GPIO Pin the power supply is switched via this pin.</p><p>Save and exit with <code>Quit</code> and <code>Yes</code>.</p></li><li><p>Build the Klipper firmware:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>make -j
</span></span></code></pre></div></li><li><p>Stop Klipper service first:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo service klipper stop
</span></span></code></pre></div></li><li><p>Flash Klipper</p><p>If you doing that initially, you need to put the board into bootloader mode first. To do so, hold the BOOT button while plugging in the USB cable. Or as an alternative, press and hold the BOOT button, press reset, release reset, then release BOOT.</p><p>After that, you can flash the firmware:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo dfu-util -R -a <span style=color:#ae81ff>0</span> -s 0x08000000:mass-erase:force -D ~/klipper/out/klipper.bin
</span></span></code></pre></div><p>If this results in an error you probably have Klipper already running on the board.</p><p>In this case, you can use the following command to flash the firmware. In your case the <code>xxxxxxxxxxx</code> part of the path may differ, so adjust it accordingly.</p><p>Determine the correct serial path by listing the devices:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>ls /dev/serial/by-id/usb-Klipper_stm32h723xx_*
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd ~/klipper
</span></span><span style=display:flex><span>make flash FLASH_DEVICE<span style=color:#f92672>=</span>/dev/serial/by-id/usb-Klipper_stm32h723xx_xxxxxxxxxxx-if00
</span></span></code></pre></div><p>This results in something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>Downloading element to address <span style=color:#f92672>=</span> 0x08000000, size <span style=color:#f92672>=</span> <span style=color:#ae81ff>41508</span>
</span></span><span style=display:flex><span>Erase           <span style=color:#f92672>[=========================]</span> 100%        <span style=color:#ae81ff>41508</span> bytes
</span></span><span style=display:flex><span>Erase    <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Download        <span style=color:#f92672>[=========================]</span> 100%        <span style=color:#ae81ff>41508</span> bytes
</span></span><span style=display:flex><span>Download <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>File downloaded successfully
</span></span><span style=display:flex><span>...   
</span></span></code></pre></div><p>Ignore the errors below, you should be good to go.</p></li><li><p>Restart Klipper to apply the changes.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo service klipper restart
</span></span></code></pre></div></li></ol><h2 id=further-links>Further Links<a hidden class=anchor aria-hidden=true href=#further-links>#</a></h2><ul><li><a href=https://www.klipper3d.org/>Klipper Documentation</a></li><li><a href=https://github.com/Klipper3d/klipper>Klipper Git</a></li><li><a href=https://github.com/Arksine/katapult>Katapult Git</a></li><li><a href="https://drklipper.de/doku.php?id=klipper_faq:flash_guide:stm32h743:btt_manta_m8n_can-bridge">Dr. Klipper Wiki BTT Manta (CAN-Bridge)</a></li><li><a href="https://drklipper.de/doku.php?id=klipper_faq:flash_guide:stm32g0b1:btt_ebb36_ebb42_can">Dr. Klipper Wiki BTT EBB42 (CAN)</a></li></ul><h2 id=support-me>Support me<a hidden class=anchor aria-hidden=true href=#support-me>#</a></h2><p>Please leave a comment if there is something wrong or missing, or if you have any questions.
Have fun!</p><p>If you enjoyed this article and would like to support my work, feel free to buy me a coffee! Your support helps me continue creating content. Thank you! <a href=https://ko-fi.com/F2F7GC8PC><img alt=ko-fi loading=lazy src=https://ko-fi.com/img/githubbutton_sm.svg></a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.freakydu.de/tags/3d-printer/>3D Printer</a></li><li><a href=https://blog.freakydu.de/tags/klipper/>Klipper</a></li><li><a href=https://blog.freakydu.de/tags/bigtreetech/>Bigtreetech</a></li><li><a href=https://blog.freakydu.de/tags/m8p/>M8p</a></li><li><a href=https://blog.freakydu.de/tags/ebb42/>Ebb42</a></li><li><a href=https://blog.freakydu.de/tags/ebb36/>Ebb36</a></li><li><a href=https://blog.freakydu.de/tags/manta/>Manta</a></li><li><a href=https://blog.freakydu.de/tags/can/>Can</a></li><li><a href=https://blog.freakydu.de/tags/katapult/>Katapult</a></li></ul><nav class=paginav><a class=next href=https://blog.freakydu.de/posts/2025-09-05-improved_klipper_print_estimation/><span class=title>Next »</span><br><span>How to Get Accurate Print Time Estimates with Klipper Estimator</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult on x" href="https://x.com/intent/tweet/?text=Flashing%20BTT%20Manta%20M8P%20CAN%20and%20EBB42%20with%20Klipper%20using%20Katapult&amp;url=https%3a%2f%2fblog.freakydu.de%2fposts%2f2025-11-05-flashing_btt_manta_m8p_can%2f&amp;hashtags=3Dprinter%2cklipper%2cbigtreetech%2cm8p%2cebb42%2cebb36%2cmanta%2ccan%2ckatapult"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.freakydu.de%2fposts%2f2025-11-05-flashing_btt_manta_m8p_can%2f&amp;title=Flashing%20BTT%20Manta%20M8P%20CAN%20and%20EBB42%20with%20Klipper%20using%20Katapult&amp;summary=Flashing%20BTT%20Manta%20M8P%20CAN%20and%20EBB42%20with%20Klipper%20using%20Katapult&amp;source=https%3a%2f%2fblog.freakydu.de%2fposts%2f2025-11-05-flashing_btt_manta_m8p_can%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.freakydu.de%2fposts%2f2025-11-05-flashing_btt_manta_m8p_can%2f&title=Flashing%20BTT%20Manta%20M8P%20CAN%20and%20EBB42%20with%20Klipper%20using%20Katapult"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.freakydu.de%2fposts%2f2025-11-05-flashing_btt_manta_m8p_can%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult on whatsapp" href="https://api.whatsapp.com/send?text=Flashing%20BTT%20Manta%20M8P%20CAN%20and%20EBB42%20with%20Klipper%20using%20Katapult%20-%20https%3a%2f%2fblog.freakydu.de%2fposts%2f2025-11-05-flashing_btt_manta_m8p_can%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult on telegram" href="https://telegram.me/share/url?text=Flashing%20BTT%20Manta%20M8P%20CAN%20and%20EBB42%20with%20Klipper%20using%20Katapult&amp;url=https%3a%2f%2fblog.freakydu.de%2fposts%2f2025-11-05-flashing_btt_manta_m8p_can%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Flashing BTT Manta M8P CAN and EBB42 with Klipper using Katapult on ycombinator" href="https://news.ycombinator.com/submitlink?t=Flashing%20BTT%20Manta%20M8P%20CAN%20and%20EBB42%20with%20Klipper%20using%20Katapult&u=https%3a%2f%2fblog.freakydu.de%2fposts%2f2025-11-05-flashing_btt_manta_m8p_can%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=freakydude/freakydude.github.io issue-term=pathname label=utterance theme=preferred-color-scheme crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://blog.freakydu.de/>freakyDude's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>